version: "3"

tasks:
    protoc-go-gen:
        desc: "Generate .go files from .proto files"
        cmds:
            - rm -rf ./pkg/client/*
    run-local:
        desc: "Run service on a local machine"
        cmds:
            - go run ./cmd/main.go --config ./config/local.yml
    test:
        desc: "Run all rests"
        cmds:
            - go clean -testcache
            - gotestsum --format-hide-empty-pkg --format-icons hivis -- -coverprofile=cover.out ./...
